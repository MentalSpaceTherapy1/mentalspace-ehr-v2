const{PrismaClient}=require('@prisma/client');const p=new PrismaClient();const c=[{code:'90785',description:'Interactive complexity (add-on code for difficult communication)',serviceType:'Therapy Session',category:'Add-on Services',defaultDuration:0,defaultRate:40,isActive:true,requiresAuthorization:false},{code:'90791',description:'Psychiatric diagnostic evaluation without medical services',serviceType:'Psychiatric Evaluation',category:'Evaluation and Management',defaultDuration:60,defaultRate:200,isActive:true,requiresAuthorization:false},{code:'90792',description:'Psychiatric diagnostic evaluation with medical services',serviceType:'Psychiatric Evaluation',category:'Evaluation and Management',defaultDuration:60,defaultRate:250,isActive:true,requiresAuthorization:false},{code:'90832',description:'Psychotherapy, 30 minutes with patient',serviceType:'Therapy Session',category:'Psychotherapy',defaultDuration:30,defaultRate:100,isActive:true,requiresAuthorization:false},{code:'90833',description:'Psychotherapy, 30 minutes with patient when performed with an evaluation and management service',serviceType:'Therapy Session',category:'Psychotherapy',defaultDuration:30,defaultRate:120,isActive:true,requiresAuthorization:false},{code:'90834',description:'Psychotherapy, 45 minutes with patient',serviceType:'Therapy Session',category:'Psychotherapy',defaultDuration:45,defaultRate:150,isActive:true,requiresAuthorization:false},{code:'90836',description:'Psychotherapy, 45 minutes with patient when performed with an evaluation and management service',serviceType:'Therapy Session',category:'Psychotherapy',defaultDuration:45,defaultRate:170,isActive:true,requiresAuthorization:false},{code:'90837',description:'Psychotherapy, 60 minutes with patient',serviceType:'Therapy Session',category:'Psychotherapy',defaultDuration:60,defaultRate:180,isActive:true,requiresAuthorization:false},{code:'90838',description:'Psychotherapy, 60 minutes with patient when performed with an evaluation and management service',serviceType:'Therapy Session',category:'Psychotherapy',defaultDuration:60,defaultRate:200,isActive:true,requiresAuthorization:false},{code:'90839',description:'Psychotherapy for crisis; first 60 minutes',serviceType:'Crisis Intervention',category:'Crisis Services',defaultDuration:60,defaultRate:200,isActive:true,requiresAuthorization:false},{code:'90840',description:'Psychotherapy for crisis; each additional 30 minutes',serviceType:'Crisis Intervention',category:'Crisis Services',defaultDuration:30,defaultRate:100,isActive:true,requiresAuthorization:false},{code:'90846',description:'Family psychotherapy (without the patient present), 50 minutes',serviceType:'Family Therapy',category:'Psychotherapy',defaultDuration:50,defaultRate:160,isActive:true,requiresAuthorization:false},{code:'90847',description:'Family psychotherapy (conjoint psychotherapy) (with patient present), 50 minutes',serviceType:'Family Therapy',category:'Psychotherapy',defaultDuration:50,defaultRate:170,isActive:true,requiresAuthorization:false},{code:'90853',description:'Group psychotherapy (other than of a multiple-family group)',serviceType:'Group Therapy',category:'Psychotherapy',defaultDuration:60,defaultRate:80,isActive:true,requiresAuthorization:false},{code:'96130',description:'Psychological testing evaluation services, first hour',serviceType:'Psychiatric Evaluation',category:'Testing and Assessment',defaultDuration:60,defaultRate:180,isActive:true,requiresAuthorization:true},{code:'96131',description:'Psychological testing evaluation services, each additional hour',serviceType:'Psychiatric Evaluation',category:'Testing and Assessment',defaultDuration:60,defaultRate:150,isActive:true,requiresAuthorization:true},{code:'99212',description:'Office or other outpatient visit for the evaluation and management of an established patient (10-19 minutes)',serviceType:'Follow-up',category:'Evaluation and Management',defaultDuration:15,defaultRate:80,isActive:true,requiresAuthorization:false},{code:'99213',description:'Office or other outpatient visit for the evaluation and management of an established patient (20-29 minutes)',serviceType:'Follow-up',category:'Evaluation and Management',defaultDuration:25,defaultRate:100,isActive:true,requiresAuthorization:false},{code:'99214',description:'Office or other outpatient visit for the evaluation and management of an established patient (30-39 minutes)',serviceType:'Follow-up',category:'Evaluation and Management',defaultDuration:35,defaultRate:140,isActive:true,requiresAuthorization:false}];(async()=>{try{console.log('Migrating 19 CPT codes...');for(const x of c){const r=await p.serviceCode.upsert({where:{code:x.code},update:x,create:{...x,createdBy:'system',lastModifiedBy:'system'}});console.log('âœ“',r.code,'-',r.description.substring(0,50)+'...')}console.log('SUCCESS: All',c.length,'codes migrated')}catch(e){console.error('ERROR:',e.message);process.exit(1)}finally{await p.$disconnect()}})()
