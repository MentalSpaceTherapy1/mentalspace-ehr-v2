{
  "env": {
    "CLAUDE_CODE_MAX_OUTPUT_TOKENS": "100000"
  },
  "permissions": {
    "allow": [
      "Bash(ping:*)",
      "Bash(node:*)",
      "Bash(npm install:*)",
      "Bash(del package-lock.json 2)",
      "Bash(cmd /C \"cd /D \"\"c:\\Users\\Jarvis 2.0\\mentalspace-ehr-v2\\packages\\frontend\"\" && if exist package-lock.json del package-lock.json && if exist node_modules rmdir /S /Q node_modules && npm install\")",
      "Bash(curl:*)",
      "Bash(temp.html)",
      "Bash(del temp.html)",
      "Bash(npm run prisma:migrate:dev:*)",
      "Bash(cat:*)",
      "Bash(git add:*)",
      "Bash(git push:*)",
      "Bash(chmod:*)",
      "Bash(./deploy.sh:*)",
      "Bash(timeout /T 30 /NOBREAK)",
      "Bash(cmd /C \"start \"\"\"\" \"\"C:\\Program Files\\Docker\\Docker\\Docker Desktop.exe\"\"\")",
      "Bash(docker info:*)",
      "Bash(bash:*)",
      "Bash(npm run build:*)",
      "Bash(npx vite build)",
      "Bash(aws s3 sync:*)",
      "Bash(aws cloudfront create-invalidation:*)",
      "Bash(aws route53 change-resource-record-sets:*)",
      "Bash(echo:*)",
      "Bash(\"c:/Users/Jarvis 2.0/mentalspace-ehr-v2/COMPREHENSIVE_BROWSER_TESTING_PROMPT.md\")",
      "Bash(del \"c:/Users/Jarvis 2.0/mentalspace-ehr-v2/COMPREHENSIVE_BROWSER_TESTING_PROMPT.md\" 2)",
      "Bash(nul)",
      "Bash(cmd /C \"del /F /Q \"\"c:/Users/Jarvis 2.0/mentalspace-ehr-v2/create-super-admin.js\"\" 2>nul\")",
      "Bash(cmd /C \"cd /D \"\"c:/Users/Jarvis 2.0/mentalspace-ehr-v2\"\" && del create-super-admin.js create-super-admin-fixed.js 2>nul\")",
      "Bash(del verify-admin.js 2)",
      "Bash(aws ecs list-tasks:*)",
      "Bash(aws ecs:*)",
      "Bash(aws logs create-log-group:*)",
      "Bash(aws ec2 describe-network-interfaces:*)",
      "Bash(aws logs tail:*)",
      "Bash(cmd /c \"aws logs tail //ecs//mentalspace-migration --region us-east-1 --since 5m --format short\")",
      "Bash(aws logs describe-log-streams:*)",
      "Bash(MSYS_NO_PATHCONV=1 aws logs:*)",
      "Bash(aws rds describe-db-instances:*)",
      "Bash(aws ec2 describe-security-groups:*)",
      "Bash(aws ec2 authorize-security-group-ingress:*)",
      "Bash(aws ec2 revoke-security-group-ingress:*)",
      "Bash(cmd /c \"del create-super-admin.js create-prod-super-admin.js create-super-admin-raw.js check-tables.js check-enums.js add-super-admin-enum.js create-super-admin-ecs.js admin-task-definition.json task-overrides.json verify-admin.js create-super-admin-fixed.js 2>nul\")",
      "Bash(cmd /c \"del create-super-admin.sql COMPREHENSIVE_BROWSER_TESTING_PROMPT.md 2>nul\")",
      "Bash(aws elbv2 describe-listeners:*)",
      "Bash(aws elbv2 describe-load-balancers:*)",
      "Bash(current-task-def.json)",
      "Bash(python -m json.tool:*)",
      "Bash(aws ecr describe-repositories:*)",
      "Bash(docker build:*)",
      "Bash(aws ecr get-login-password:*)",
      "Bash(docker login:*)",
      "Bash(docker push:*)",
      "Bash(npx prisma:*)",
      "Bash(DATABASE_URL=\"postgresql://mentalspace_admin:MentalSpace2024!SecurePwd@mentalspace-ehr-prod.ci16iwey2cac.us-east-1.rds.amazonaws.com:5432/mentalspace_ehr\" npx prisma migrate:*)",
      "Bash(DATABASE_URL=\"postgresql://mentalspace_admin:MentalSpace2024!SecurePwd@mentalspace-ehr-prod.ci16iwey2cac.us-east-1.rds.amazonaws.com:5432/mentalspace_ehr\" npx prisma migrate resolve:*)",
      "Bash(cmd /c \"del check-clinical-notes-schema.js add-missing-ai-columns.js 2>nul\")",
      "Bash(cmd /c:*)",
      "Bash(docker tag:*)",
      "Bash(xargs:*)",
      "Bash(aws logs describe-log-groups:*)",
      "Bash(DATABASE_URL=\"postgresql://mentalspace_admin:MentalSpace2024!SecurePwd@mentalspace-db-dev.ci16iwey2cac.us-east-1.rds.amazonaws.com:5432/mentalspace_ehr\" npx prisma migrate:*)",
      "Bash(aws secretsmanager get-secret-value:*)",
      "Bash(DATABASE_URL=\"postgresql://mentalspace_admin:9JS1df2PprIr%3D_MCJgyrjB%5EC.os%3D%5E7@mentalspace-db-dev.ci16iwey2cac.us-east-1.rds.amazonaws.com:5432/mentalspace_ehr\" npx prisma migrate resolve:*)",
      "Bash(DATABASE_URL=\"postgresql://mentalspace_admin:9JS1df2PprIr%3D_MCJgyrjB%5EC.os%3D%5E7@mentalspace-db-dev.ci16iwey2cac.us-east-1.rds.amazonaws.com:5432/mentalspace_ehr\" npx prisma migrate:*)",
      "Bash(timeout /T 60 /NOBREAK)",
      "Bash(python -c:*)",
      "Bash(login-response.json)",
      "Bash(new-token.json)",
      "Bash(tee:*)",
      "Bash(timeout /T 5 /NOBREAK)",
      "Bash(cd:*)",
      "Bash(find:*)",
      "Bash(npm run type-check:*)",
      "Bash(npx tsc:*)",
      "Bash(npm run:*)",
      "Bash(cut:*)",
      "Bash(aws cloudfront list-distributions:*)",
      "Bash(aws s3 ls:*)",
      "Bash(nslookup:*)",
      "Bash(aws cloudfront get-invalidation:*)",
      "Bash(dir:*)",
      "Bash(set:*)",
      "Bash(copy:*)",
      "Bash(\"c:/Users/Jarvis 2.0/mentalspace-ehr-v2/packages/database/.env\")",
      "Bash(TOKEN=\"NKENdV3A_gFAN9GQZFYLN0uziZSHdeNNMmlT9MoeACI\")",
      "Bash(NUL)",
      "Bash(TOKEN=\"ooaOp5IOtojLZWz5MDABG2Npis2t2n9Kg59JQJKe8f8\")",
      "Bash(timeout /T 3 /NOBREAK)",
      "Bash(timeout /T 10 /NOBREAK)",
      "Bash(TOKEN=\"eIt1aRLcmtEKeLT9a7ondkhBnWsNM53knm8976ZsPdI\")",
      "Bash(timeout /T 90 /NOBREAK)",
      "Bash(TOKEN=\"PDxE-aZahHOhoc8M6D-fxf08oE0yLkobXYcahAsTumM\")",
      "Bash(TOKEN=\"wfFTUKH8cRRw3Y60mmHhJk9n0SOwRwjr9Ej1Lk4q76M\")",
      "Bash(therapists.json)",
      "Bash(del check-outcome-measures-table.js 2)",
      "Bash(del check-outcome-measures-table.js)",
      "Bash(del test-insurance.js test-guardians.js 2)",
      "Bash(aws secretsmanager list-secrets:*)",
      "Bash(aws rds describe-db-clusters:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: Client Module database schema fixes - add 38 missing columns\n\nFixes all 500 errors in Client Module endpoints caused by database schema drift.\n\n## Changes\n\n### Database Migration (Prisma)\n- Added migration: 20250114000000_client_module_schema_fixes\n- Total: 38 columns added across 4 tables\n\n### Tables Updated\n1. form_assignments (3 columns)\n   - assignmentNotes, clientMessage, lastReminderSent\n\n2. client_diagnoses (17 columns)\n   - diagnosisType, icd10Code, dsm5Code, diagnosisName, diagnosisCategory\n   - severitySpecifier, courseSpecifier, onsetDate, remissionDate\n   - dateDiagnosed, dateResolved, supportingEvidence\n   - differentialConsiderations, resolutionNotes\n   - diagnosedById, lastReviewedDate, lastReviewedById\n   - Made diagnosisCode nullable (legacy column)\n\n3. clinical_notes (6 columns)  \n   - Sunday Lockout & Unlock Request System\n   - unlockRequested, unlockRequestDate, unlockReason\n   - unlockApprovedBy, unlockApprovalDate, unlockUntil\n\n4. outcome_measures (12 columns)\n   - administeredById, administeredDate, clinicalNoteId, appointmentId\n   - responses (JSONB), totalScore, severity, severityLabel\n   - clinicalNotes, completionTime, wasCompleted, updatedAt\n\n### Code Changes\n- emergencyContact.controller.ts: Added data transformation layer\n  - Maps firstName+lastName -> name field for database compatibility\n  - Preserves existing data (5 emergency contacts)\n  \n### Documentation\n- DATABASE_SCHEMA_FIXES_SUMMARY.md: Complete fix documentation\n\n## Fixed Endpoints\nâœ… Portal Forms API - GET /clients/:id/forms\nâœ… Emergency Contacts - POST /emergency-contacts\nâœ… Client Diagnoses - Multiple endpoints\nâœ… Clinical Notes APIs - Multiple GET endpoints\nâœ… Outcome Measures API - GET /outcome-measures/client/:id\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(TOKEN=\"oC9D5PRWyO29O9OUmgsrgP4TrfuF-t41iPv1gpRhXNk\")",
      "Bash(aws route53:*)",
      "Bash(git commit:*)"
    ],
    "deny": [],
    "ask": []
  }
}
